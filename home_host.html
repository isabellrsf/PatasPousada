<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Painel do Anfitri√£o | Patas Pousada</title>

  <!-- Fontes -->
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700&family=Parkinsans:wght@500;600;700&display=swap');
  </style>
  <!-- √çcones -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    :root {
      --cor-principal: #e2725b;
      --cor-principal-escura: #d35e46;
      --cor-fundo: #f7f7f7;
      --cor-card: #ffffff;
      --cor-texto: #333333;
      --radius-card: 16px;
      --shadow-card: 0 4px 12px rgba(0,0,0,0.08);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Nunito', Arial, sans-serif;
      background-color: var(--cor-fundo);
      color: var(--cor-texto);
    }

    /* HEADER */
    header {
      background-color: #fff;
      box-shadow: 0 2px 4px rgba(0,0,0,0.08);
      padding: 16px 32px;
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .topbar {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 24px;
    }

    .topbar-left {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .topbar-left img {
      width: 28px;
      height: 28px;
    }

    .logo-text {
      font-family: 'Parkinsans', sans-serif;
      font-weight: 700;
      font-size: 1.3rem;
      color: var(--cor-principal);
      text-decoration: none;
    }

    .topbar-center nav ul {
      list-style: none;
      display: flex;
      gap: 24px;
    }

    .topbar-center nav a {
      text-decoration: none;
      font-family: 'Parkinsans', sans-serif;
      font-weight: 600;
      color: #444;
      font-size: 0.95rem;
    }

    .topbar-center nav a:hover {
      color: var(--cor-principal-escura);
    }

    .topbar-right {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .perfil-bolinha {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background-color: #ffe2da;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      color: var(--cor-principal-escura);
      font-size: 0.9rem;
    }

    .perfil-nome {
      font-family: 'Parkinsans', sans-serif;
      font-weight: 600;
      font-size: 0.95rem;
    }

    /* ===== USER MENU (dropdown) ===== */
    .user-menu {
      position: relative;
      display: flex;
      align-items: center;
    }

    .user-trigger {
      border: none;
      background: transparent;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      padding: 4px 6px;
      border-radius: 999px;
    }

    .user-trigger:hover {
      background-color: #fff3ef;
    }

    .user-trigger .caret {
      font-size: 0.7rem;
      color: #555;
      margin-left: 4px;
    }

    .user-dropdown {
      position: absolute;
      right: 0;
      top: calc(100% + 8px);
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.18);
      min-width: 230px;
      padding: 8px 0;
      opacity: 0;
      visibility: hidden;
      transform: translateY(4px);
      transition: opacity .15s ease, transform .15s ease, visibility .15s ease;
      z-index: 20;
    }

    .user-menu:hover .user-dropdown {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .user-dropdown a {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 16px;
      text-decoration: none;
      font-weight: 700;
      font-size: 0.95rem;
      color: #222;
      white-space: nowrap;
    }

    .user-dropdown a i {
      width: 18px;
      text-align: center;
    }

    .user-dropdown a:hover {
      background-color: #f7f7f7;
    }

    .user-dropdown .separator {
      height: 1px;
      background-color: #eee;
      margin: 6px 0;
    }

    .user-dropdown a.delete-link {
      color: #c0392b;
    }

    .user-dropdown a.delete-link:hover {
      background-color: #fee2e2;
    }

    /* CONTAINER PRINCIPAL */
    .container-main {
      max-width: 1200px;
      margin: 24px auto;
      padding: 0 16px 32px;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    /* CARDS SUPERIORES */
    .top-cards {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 16px;
    }

    .top-card {
      background-color: var(--cor-card);
      border-radius: var(--radius-card);
      box-shadow: var(--shadow-card);
      padding: 16px 20px;
      display: flex;
      flex-direction: column;
      gap: 4px;
      cursor: pointer;
      transition: transform .12s ease, box-shadow .12s ease, background-color .12s ease;
    }

    .top-card:hover {
      transform: translateY(-1px);
      box-shadow: 0 6px 16px rgba(0,0,0,0.10);
      background-color: #fff8f6;
    }

    .top-card-titulo {
      font-weight: 700;
      font-size: 0.95rem;
    }

    .top-card-sub {
      font-size: 0.85rem;
      color: #777;
    }

    /* GRID PRINCIPAL */
    .grid-main {
      display: grid;
      grid-template-columns: 260px minmax(0, 1fr) 260px;
      gap: 18px;
      align-items: flex-start;
    }

    /* SIDEBAR ESQUERDA */
    .sidebar-esq {
      background-color: var(--cor-card);
      border-radius: var(--radius-card);
      box-shadow: var(--shadow-card);
      padding: 16px;
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    .sidebar-esq h3 {
      font-size: 0.95rem;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .filtro-botoes {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .btn-filtro {
      border-radius: 999px;
      border: 1.5px solid var(--cor-principal);
      padding: 8px 12px;
      font-size: 0.9rem;
      cursor: pointer;
      background-color: transparent;
      text-align: left;
      display: flex;
      align-items: center;
      gap: 8px;
      font-family: 'Nunito', sans-serif;
      transition: background-color .15s ease, color .15s ease, box-shadow .15s ease, transform .05s ease;
    }

    .btn-filtro:hover {
      background-color: #ffe2da;
      color: var(--cor-principal-escura);
      box-shadow: 0 0 0 1px #ffd0c1;
      transform: translateY(-1px);
    }

    .btn-filtro.ativo {
      background-color: var(--cor-principal);
      color: #fff;
      box-shadow: 0 0 0 1px var(--cor-principal-escura);
    }

    .btn-filtro span.emoji {
      font-size: 1rem;
    }

    .select-cidade {
      width: 100%;
      margin-top: 4px;
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid #ddd;
      font-size: 0.9rem;
      font-family: 'Nunito', sans-serif;
    }

    /* LISTA DE HOSPEDAGENS DO ANFITRI√ÉO */
    .lista-hosts {
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    .lista-header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom:4px;
    }

    .lista-header h2{
      font-size:1.05rem;
      font-weight:700;
      font-family:'Parkinsans',sans-serif;
    }

    .btn-criar-anuncio{
      border:none;
      border-radius:999px;
      padding:8px 14px;
      background:var(--cor-principal);
      color:#fff;
      font-size:0.9rem;
      font-weight:700;
      cursor:pointer;
      font-family:'Nunito',sans-serif;
      display:inline-flex;
      align-items:center;
      gap:6px;
      box-shadow:0 2px 6px rgba(0,0,0,0.10);
      transition:background .15s ease, transform .10s ease, box-shadow .15s ease;
    }

    .btn-criar-anuncio i{
      font-size:0.9rem;
    }

    .btn-criar-anuncio:hover{
      background:var(--cor-principal-escura);
      transform:translateY(-1px);
      box-shadow:0 4px 10px rgba(0,0,0,0.16);
    }

    .host-card {
      background-color: var(--cor-card);
      border-radius: var(--radius-card);
      box-shadow: var(--shadow-card);
      padding: 16px 20px;
      display: grid;
      grid-template-columns: auto minmax(0, 1fr) auto;
      gap: 16px;
      align-items: center;
    }

    .host-avatar {
      width: 70px;
      height: 70px;
      border-radius: 18px;
      background-color: #ffe2da;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.4rem;
    }

    .host-info-principal {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .host-nome {
      font-weight: 700;
      font-size: 1rem;
    }

    .host-bairro {
      font-size: 0.85rem;
      color: #777;
    }

    .host-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      font-size: 0.8rem;
    }

    .tag {
      background-color: #fff7f5;
      border-radius: 999px;
      padding: 4px 8px;
      border: 1px solid #ffe2da;
    }

    .host-experiencia {
      font-size: 0.8rem;
      color: #666;
    }

    .host-preco {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 8px;
      font-size: 0.9rem;
    }

    .host-preco strong {
      font-size: 1rem;
    }

    .btn-ver-perfil {
      border-radius: 999px;
      border: 1.5px solid var(--cor-principal-escura);
      padding: 6px 14px;
      font-size: 0.9rem;
      cursor: pointer;
      background-color: transparent;
      color: var(--cor-principal-escura);
      font-family: 'Nunito', sans-serif;
      transition: background-color .15s ease, color .15s ease;
    }

    .btn-ver-perfil:hover {
      background-color: #ffe2da;
    }

    /* CARD FORMUL√ÅRIO "NOVA HOSPEDAGEM" */
    .card-form-anuncio{
      background:var(--cor-card);
      border-radius:var(--radius-card);
      box-shadow:var(--shadow-card);
      padding:18px 20px;
      display:none;
      flex-direction:column;
      gap:12px;
    }
    .card-form-anuncio h3{
      font-family:'Parkinsans',sans-serif;
      font-size:1.05rem;
      margin-bottom:2px;
    }
    .card-form-anuncio p.sub{
      font-size:.85rem;
      color:#666;
      margin-bottom:8px;
    }

    .alert{
      padding:8px 10px;
      border-radius:10px;
      font-size:.82rem;
      margin-bottom:6px;
      display:none;
    }
    .alert.ok{background:#e6ffea;color:#166534;border:1px solid #22c55e}
    .alert.err{background:#fee2e2;color:#b91c1c;border:1px solid #ef4444}

    .row-form{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
      gap:12px;
      margin-bottom:4px;
    }
    label{font-size:.86rem;font-weight:600;margin-bottom:3px;display:block}
    input[type="text"],
    input[type="number"],
    select,
    textarea{
      width:100%;
      padding:8px 10px;
      border-radius:10px;
      border:1px solid #ddd;
      font-family:'Nunito',sans-serif;
      font-size:.9rem;
    }
    textarea{min-height:60px;resize:vertical}
    .help{font-size:.78rem;color:#888;margin-top:2px}

    .check-group{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      font-size:.86rem;
      margin-top:4px;
    }
    .check-group label{
      display:flex;
      align-items:center;
      gap:4px;
      font-weight:500;
    }

    .actions-inline{
      display:flex;
      gap:8px;
      justify-content:flex-end;
      margin-top:6px;
      flex-wrap:wrap;
    }
    .btn-primary{
      border:none;border-radius:999px;padding:8px 16px;
      background:var(--cor-principal);color:#fff;font-weight:700;
      cursor:pointer;font-size:.9rem;
    }
    .btn-primary:hover{background:var(--cor-principal-escura)}
    .btn-outline{
      border-radius:999px;padding:8px 14px;
      border:1.5px solid #ccc;background:#fff;
      cursor:pointer;font-weight:600;font-size:.9rem;
    }
    .btn-outline:hover{background:#f4f4f4}

    /* SIDEBAR DIREITA */
    .sidebar-dir {
      background-color: var(--cor-card);
      border-radius: var(--radius-card);
      box-shadow: var(--shadow-card);
      padding: 16px 18px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      font-size: 0.9rem;
    }

    .sidebar-dir h3 {
      font-size: 0.95rem;
      font-weight: 700;
    }

    .sidebar-dir p {
      font-size: 0.85rem;
      color: #666;
    }

    .sidebar-dir a {
      color: var(--cor-principal-escura);
      font-weight: 600;
      text-decoration: none;
      font-size: 0.85rem;
    }

    .sidebar-dir a:hover {
      text-decoration: underline;
    }

    .checklist-perfil{
      list-style:none;
      padding-left:0;
      margin:4px 0 6px;
      font-size:0.82rem;
      color:#555;
      display:flex;
      flex-direction:column;
      gap:3px;
    }

    .checklist-perfil li{
      display:flex;
      align-items:flex-start;
      gap:6px;
    }

    .checklist-perfil span.ico{
      font-size:0.9rem;
      margin-top:1px;
    }

    .reservas-list{
      display:flex;
      flex-direction:column;
      gap:6px;
      margin:2px 0 6px;
      font-size:0.82rem;
    }

    .reserva-item{
      padding:6px 8px;
      border-radius:10px;
      background:#fff7f5;
      border:1px solid #ffe2da;
      display:flex;
      flex-direction:column;
      gap:2px;
    }

    .reserva-item strong{
      font-size:0.83rem;
    }

    .reserva-item span{
      color:#555;
    }

    @media (max-width: 992px) {
      .grid-main {
        grid-template-columns: 1fr;
      }

      .sidebar-esq,
      .sidebar-dir {
        order: 0;
      }
    }

    @media (max-width: 600px) {
      .top-cards {
        grid-template-columns: 1fr;
      }

      .host-card {
        grid-template-columns: 1fr;
        text-align: left;
      }

      .host-preco {
        align-items: flex-start;
      }

      .lista-header{
        flex-direction:column;
        align-items:flex-start;
      }

      .actions-inline{
        justify-content:flex-start;
      }
    }

    /* ===== Modal EXCLUIR conta ===== */
    .pp-wrap{
      position:fixed;
      inset:0;
      background:rgba(2,6,23,.55);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:60;
    }
    .pp-card{
      width:min(460px,92vw);
      background:#fff;
      border-radius:18px;
      box-shadow:0 30px 80px rgba(0,0,0,.35);
      overflow:hidden;
      transform:translateY(8px);
      opacity:0;
      transition:.18s;
    }
    .pp-card.show{
      transform:translateY(0);
      opacity:1;
    }
    .pp-card header{
      display:flex;
      align-items:center;
      gap:10px;
      padding:12px 14px;
      border-bottom:1px solid #f1f5f9;
      background:#fff1f0;
    }
    .pp-card header .ic{
      width:20px;
      height:20px;
      display:grid;
      place-items:center;
      border-radius:999px;
      background:#fee2e2;
      color:#b91c1c;
      font-weight:900;
    }
    .pp-card h4{
      margin:0;
      font-weight:900;
      color:#991b1b;
    }
    .pp-body{
      padding:16px;
      font-size:.9rem;
      color:#444;
    }
    .pp-body p{
      margin:0 0 10px;
    }
    .pp-body input{
      width:100%;
      padding:10px;
      border:1px solid:#ddd;
      border-radius:10px;
      font-family:'Nunito',sans-serif;
      font-size:.9rem;
    }
    .pp-ft{
      display:flex;
      gap:10px;
      justify-content:flex-end;
      padding:12px 14px;
      background:#fafafa;
      border-top:1px solid #eef2f7;
    }
    .pp-btn{
      border-radius:12px;
      padding:9px 14px;
      font-weight:800;
      border:2px solid #e2e8f0;
      background:#fff;
      cursor:pointer;
      font-size:.9rem;
    }
    .pp-btn:hover{
      background:#f3f4f6;
    }
    .pp-ok{
      background:#b91c1c;
      color:#fff;
      border-color:#b91c1c;
    }
    .pp-ok:hover{
      background:#991b1b;
    }

    .toast{
      position:fixed;
      bottom:20px;
      left:50%;
      transform:translateX(-50%);
      background:#1f2937;
      color:#fff;
      padding:10px 14px;
      border-radius:12px;
      box-shadow:0 6px 18px rgba(0,0,0,.25);
      font-size:.92rem;
      display:none;
      z-index:70;
    }
  </style>
</head>
<body>
  <header>
    <div class="topbar">
      <div class="topbar-left">
        <img src="https://images.vexels.com/media/users/3/202255/isolated/preview/a095b3fe28f3c9febbf176089e2d7e08-pegada-de-cachorro-com-osso-de-coracao-rosa-plana.png" alt="√çcone">
        <a href="index.html" class="logo-text">Patas Pousada</a>
      </div>

      <div class="topbar-center">
        <nav>
          <ul>
            <li><a href="home_host.html">Reservas</a></li>
            <li><a href="ajuda.html">Ajuda</a></li>
            <li><a href="home_host.html">Lar Tempor√°rio</a></li>
          </ul>
        </nav>
      </div>

      <div class="topbar-right">
        <div class="user-menu">
          <button type="button" class="user-trigger">
            <div class="perfil-bolinha" id="perfilBolinha">A</div>
            <span class="perfil-nome" id="perfilNome">Carregando...</span>
            <span class="caret">‚ñæ</span>
          </button>

          <div class="user-dropdown">
            <a href="menu_perfil_host.html">
              <i class="fa-solid fa-user-pen"></i>
              <span>Editar perfil</span>
            </a>
            <a href="#" id="linkSair">
              <i class="fa-solid fa-arrow-right-from-bracket"></i>
              <span>Sair</span>
            </a>
            <div class="separator"></div>
            <a href="#" id="linkExcluir" class="delete-link">
              <i class="fa-solid fa-user-xmark"></i>
              <span>Excluir conta</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main class="container-main">
    <!-- Cards de atalho -->
    <section class="top-cards">
      <div class="top-card" onclick="window.location.href='home_host.html'">
        <span class="top-card-titulo">Seu painel de anfitri√£o</span>
        <span class="top-card-sub">Veja suas hospedagens, reservas e disponibilidade.</span>
      </div>
      <div class="top-card" onclick="document.getElementById('blocoHospedagens').scrollIntoView({behavior:'smooth'})">
        <span class="top-card-titulo">Minhas hospedagens</span>
        <span class="top-card-sub">Gerencie an√∫ncios, valores e tipos de servi√ßo.</span>
      </div>
      <div class="top-card" onclick="window.location.href='menu_perfil_host.html'">
        <span class="top-card-titulo">Configura√ß√µes</span>
        <span class="top-card-sub">Perfil, prefer√™ncias e seguran√ßa da conta.</span>
      </div>
    </section>

    <section class="grid-main">
      <!-- Filtros / servi√ßos √† esquerda -->
      <aside class="sidebar-esq">
        <div>
          <h3>Servi√ßos que voc√™ oferece</h3>
          <p style="font-size:0.8rem;color:#777;margin-bottom:4px;">
            Ative e filtre os tipos de hospedagem que voc√™ disponibiliza.
          </p>
          <div class="filtro-botoes">
            <button class="btn-filtro ativo" data-service="all">
              <span class="emoji">üîé</span> Todos os servi√ßos
            </button>
            <button class="btn-filtro" data-service="daycare">
              <span class="emoji">üê∂</span> Day Care
            </button>
            <button class="btn-filtro" data-service="hospedagem">
              <span class="emoji">üè°</span> Hospedagem
            </button>
            <button class="btn-filtro" data-service="lar">
              <span class="emoji">üìç</span> Lar Tempor√°rio
            </button>
          </div>
        </div>

        <div>
          <h3>Cidade da hospedagem</h3>
          <select class="select-cidade">
            <option value="">Todas</option>
            <option value="Bras√≠lia">Bras√≠lia</option>
            <option value="Taguatinga">Taguatinga</option>
            <option value="Guar√°">Guar√°</option>
            <option value="√Åguas Claras">√Åguas Claras</option>
            <option value="Ceil√¢ndia">Ceil√¢ndia</option>
          </select>
        </div>
      </aside>

      <!-- Lista central de cards = Minhas hospedagens -->
      <section class="lista-hosts" id="blocoHospedagens">
        <div class="lista-header">
          <h2>Minhas hospedagens</h2>
          <button type="button" class="btn-criar-anuncio" id="btnToggleForm">
            <i class="fa-solid fa-plus"></i>
            <span>Criar nova hospedagem</span>
          </button>
        </div>

        <!-- CARD FORM DE CRIA√á√ÉO (EXPANS√çVEL) -->
        <article class="card-form-anuncio" id="cardNovaHospedagem">
          <h3>Novo an√∫ncio</h3>
          <p class="sub">
            Cadastre um an√∫ncio do seu espa√ßo com os tipos de servi√ßo, valores e regras da casa.
          </p>

          <div id="alertOk"  class="alert ok"></div>
          <div id="alertErr" class="alert err"></div>

          <form id="formNovaHospedagem">
            <div class="row-form">
              <div>
                <label for="titulo">Nome do an√∫ncio</label>
                <input type="text" id="titulo" name="titulo" placeholder="Ex: Ap√™ pet friendly em Taguatinga">
              </div>
              <div>
                <label for="cidade">Cidade da hospedagem</label>
                <select id="cidade" name="cidade">
                  <option value="">Selecione</option>
                  <option value="Bras√≠lia">Bras√≠lia</option>
                  <option value="Taguatinga">Taguatinga</option>
                  <option value="Guar√°">Guar√°</option>
                  <option value="√Åguas Claras">√Åguas Claras</option>
                  <option value="Ceil√¢ndia">Ceil√¢ndia</option>
                  <option value="Sobradinho">Sobradinho</option>
                  <option value="Gama">Gama</option>
                  <option value="Samambaia">Samambaia</option>
                </select>
                <div class="help">Use a cidade onde o pet ficar√° hospedado.</div>
              </div>
            </div>

            <div>
              <label>Servi√ßos oferecidos</label>
              <div class="check-group">
                <label><input type="checkbox" name="servicos" value="Hospedagem"> Hospedagem (pernoite)</label>
                <label><input type="checkbox" name="servicos" value="Day Care"> Day Care (di√°ria)</label>
                <label><input type="checkbox" name="servicos" value="Lar Tempor√°rio"> Lar Tempor√°rio</label>
              </div>
            </div>

            <div class="row-form">
              <div>
                <label for="preco_noite">Valor por noite (R$)</label>
                <input type="number" id="preco_noite" name="preco_noite" min="0" step="0.01" placeholder="Ex: 45,00">
              </div>
              <div>
                <label for="preco_daycare">Valor Day Care (R$)</label>
                <input type="number" id="preco_daycare" name="preco_daycare" min="0" step="0.01" placeholder="Opcional">
              </div>
              <div>
                <label for="capacidade">Pets por vez</label>
                <input type="number" id="capacidade" name="capacidade" min="1" placeholder="Ex: 2">
              </div>
            </div>

            <div>
              <label>Porte dos pets aceitos</label>
              <div class="check-group">
                <label><input type="checkbox" name="portes" value="Pequeno"> Pequeno</label>
                <label><input type="checkbox" name="portes" value="M√©dio"> M√©dio</label>
                <label><input type="checkbox" name="portes" value="Grande"> Grande</label>
              </div>
            </div>

            <div>
              <label for="descricao">Descri√ß√£o do espa√ßo</label>
              <textarea id="descricao" name="descricao" placeholder="Ex: Ap√™ amplo, sacada com tela de prote√ß√£o, perto de pra√ßas para passeio..."></textarea>
            </div>

            <div>
              <label for="regras">Regras da casa</label>
              <textarea id="regras" name="regras" placeholder="Ex: N√£o subir no sof√°, levar ra√ß√£o do pet, informar se o pet toma medica√ß√£o..."></textarea>
            </div>

            <div class="actions-inline">
              <button type="button" class="btn-outline" id="btnCancelarForm">Cancelar</button>
              <button type="submit" class="btn-primary" id="btnSalvarAnuncio">Salvar an√∫ncio</button>
            </div>
          </form>
        </article>

        <!-- An√∫ncio principal do anfitri√£o (mock) -->
        <article class="host-card" data-service="hospedagem,daycare">
          <div class="host-avatar" id="avatarEmoji">üë©‚Äçü¶∞</div>
          <div class="host-info-principal">
            <div class="host-nome" id="hostTituloPrincipal">Seu espa√ßo ‚Ä¢ Taguatinga</div>
            <div class="host-tags">
              <span class="tag">Hospedagem</span>
              <span class="tag">Day Care</span>
            </div>
            <div class="host-experiencia">
              Apartamento pet friendly, sacada protegida e ambiente interno climatizado.
            </div>
          </div>
          <div class="host-preco">
            <span>R$ <strong>45</strong> / noite</span>
            <button class="btn-ver-perfil">Gerenciar an√∫ncio</button>
          </div>
        </article>

        <!-- Segundo an√∫ncio (mock) -->
        <article class="host-card" data-service="lar,hospedagem">
          <div class="host-avatar">üè°</div>
          <div class="host-info-principal">
            <div class="host-nome">Quintal amplo em condom√≠nio</div>
            <div class="host-tags">
              <span class="tag">Lar Tempor√°rio</span>
              <span class="tag">Hospedagem</span>
            </div>
            <div class="host-experiencia">
              Ideal para pets ativos, com √°rea externa segura e espa√ßo para brincadeiras.
            </div>
          </div>
          <div class="host-preco">
            <span>R$ <strong>55</strong> / noite</span>
            <button class="btn-ver-perfil">Gerenciar an√∫ncio</button>
          </div>
        </article>
      </section>

      <!-- Sidebar direita -->
      <aside class="sidebar-dir">
        <h3>Seu perfil de anfitri√£o</h3>
        <p>
          Complete seu perfil para ganhar mais confian√ßa dos tutores e aparecer melhor nas buscas.
        </p>
        <ul class="checklist-perfil">
          <li><span class="ico">‚úÖ</span>Foto do espa√ßo adicionada</li>
          <li><span class="ico">‚¨ú</span>Regras da casa preenchidas</li>
          <li><span class="ico">‚¨ú</span>Hor√°rios de check-in e check-out definidos</li>
        </ul>

        <h3>Pr√≥ximas reservas (exemplo)</h3>
        <div class="reservas-list">
          <div class="reserva-item">
            <strong>Thor ‚Ä¢ 12‚Äì15/12</strong>
            <span>Tutor: Maria S. ‚Ä¢ Hospedagem</span>
          </div>
          <div class="reserva-item">
            <strong>Luna ‚Ä¢ 18/12 (Day Care)</strong>
            <span>Tutor: Jo√£o P. ‚Ä¢ 08h √†s 18h</span>
          </div>
        </div>

        <a href="#">Ver todas as reservas ‚Üí</a>
      </aside>
    </section>
  </main>

  <!-- MODAL EXCLUIR CONTA (host) -->
  <div class="pp-wrap" id="ppDelete" style="display:none">
    <div class="pp-card" role="dialog" aria-modal="true">
      <header>
        <span class="ic">!</span>
        <h4>Excluir sua conta</h4>
      </header>
      <div class="pp-body">
        <p>Esta a√ß√£o √© <strong>irrevers√≠vel</strong>. Seus dados de anfitri√£o poder√£o ser removidos da plataforma.</p>
        <p>Para confirmar, digite <strong>EXCLUIR</strong>:</p>
        <input id="delConfirmTextHost" type="text" placeholder="EXCLUIR">
        <p style="margin-top:10px;">Por seguran√ßa, informe sua <strong>senha atual</strong>:</p>
        <input id="delPasswordHost" type="password" placeholder="Senha atual">
      </div>
      <div class="pp-ft">
        <button class="pp-btn" id="delCancelHost">Cancelar</button>
        <button class="pp-btn pp-ok" id="delOkHost">Sim, excluir</button>
      </div>
    </div>
  </div>

  <div class="toast" id="toastHost"></div>

  <!-- Supabase UMD -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
    // ===== CONFIG SUPABASE =====
    const SUPABASE_URL = "https://nwbgzokttjgkipwzfgzc.supabase.co";
    const SUPABASE_ANON_KEY = "sb_publishable_wn2dxmpI7gFOx4nLh5oHqg_Qlc4Q0lQ";
    const sb = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    let currentUserEmail = null;
    let currentUserId    = null;

    function initials(name){
      if(!name) return "A";
      const p = name.trim().split(/\s+/);
      const i1 = (p[0]?.[0] || "").toUpperCase();
      const i2 = (p[1]?.[0] || "").toUpperCase();
      return (i1 + i2).trim() || "A";
    }

    function toastHost(msg){
      const t = document.getElementById("toastHost");
      t.textContent = msg;
      t.style.display = "block";
      setTimeout(()=>{ t.style.display = "none"; }, 2200);
    }

    function showAlertOk(msg){
      const ok  = document.getElementById("alertOk");
      const err = document.getElementById("alertErr");
      if(!ok || !err) return;
      err.style.display = "none";
      ok.textContent = msg;
      ok.style.display = "block";
    }
    function showAlertErr(msg){
      const ok  = document.getElementById("alertOk");
      const err = document.getElementById("alertErr");
      if(!ok || !err) return;
      ok.style.display = "none";
      err.textContent = msg;
      err.style.display = "block";
    }

    async function requireAuth(){
      const { data:{ user } } = await sb.auth.getUser();
      if(!user){
        location.href = "cadastrarouentrar.html?next=home_host.html";
        return null;
      }
      currentUserEmail = user.email;
      currentUserId    = user.id;
      return user;
    }

    async function loadHostName(user){
      const spanNome   = document.getElementById("perfilNome");
      const bolinha    = document.getElementById("perfilBolinha");
      const hostTitulo = document.getElementById("hostTituloPrincipal");

      let displayName = null;
      let cidade = "";

      try{
        const { data: hostRow, error } = await sb
          .from("hosts")
          .select("full_name, city")
          .eq("id", user.id)
          .maybeSingle();

        if(!error && hostRow){
          displayName = hostRow.full_name || null;
          cidade = hostRow.city || "";
        }
      }catch(e){
        console.error("Erro ao buscar host:", e);
      }

      if(!displayName){
        displayName =
          user.user_metadata?.full_name ||
          (user.email ? user.email.split("@")[0] : "Anfitri√£o");
      }

      spanNome.textContent = displayName;
      bolinha.textContent  = initials(displayName);

      if(hostTitulo){
        const cidadeTexto = cidade ? " ‚Ä¢ " + cidade : "";
        hostTitulo.textContent = displayName + cidadeTexto;
      }
    }

    async function handleLogout(event){
      event.preventDefault();
      try{
        await sb.auth.signOut();
      }catch(e){}
      location.href = "cadastrarouentrar.html";
    }

    // ===== Modal EXCLUIR CONTA =====
    const ppDelete            = document.getElementById("ppDelete");
    const delCancelHost       = document.getElementById("delCancelHost");
    const delOkHost           = document.getElementById("delOkHost");
    const delConfirmTextHost  = document.getElementById("delConfirmTextHost");
    const delPasswordHost     = document.getElementById("delPasswordHost");

    function openDeleteModal(){
      ppDelete.style.display = "flex";
      requestAnimationFrame(()=>{
        ppDelete.querySelector(".pp-card").classList.add("show");
      });
    }

    function closeDeleteModal(){
      const card = ppDelete.querySelector(".pp-card");
      card.classList.remove("show");
      setTimeout(()=>{ ppDelete.style.display = "none"; }, 140);
      delConfirmTextHost.value = "";
      delPasswordHost.value = "";
    }

    ppDelete.addEventListener("click", (e)=>{
      if(e.target.id === "ppDelete") closeDeleteModal();
    });

    delCancelHost.addEventListener("click", (e)=>{
      e.preventDefault();
      closeDeleteModal();
    });

    async function handleDeleteAccount(){
      if(!currentUserEmail){
        toastHost("Erro: usu√°rio n√£o identificado. Fa√ßa login novamente.");
        return;
      }

      const text = delConfirmTextHost.value.trim().toUpperCase();
      if(text !== "EXCLUIR"){
        toastHost("Digite EXCLUIR para confirmar.");
        return;
      }

      const senha = delPasswordHost.value;
      if(!senha){
        toastHost("Informe sua senha atual.");
        return;
      }

      try{
        const { error } = await sb.auth.signInWithPassword({
          email: currentUserEmail,
          password: senha
        });

        if(error){
          console.error(error);
          toastHost("Senha incorreta. Conta n√£o exclu√≠da.");
          return;
        }

        closeDeleteModal();
        window.location.href = "processaExclusao.php";
      }catch(e){
        console.error(e);
        toastHost("N√£o foi poss√≠vel validar sua senha agora. Tente novamente.");
      }
    }

    delOkHost.addEventListener("click", async (e)=>{
      e.preventDefault();
      await handleDeleteAccount();
    });

    // ===== FILTRO "Servi√ßos que voc√™ oferece" =====
    const filterButtons = document.querySelectorAll(".btn-filtro");
    const hostCards     = document.querySelectorAll(".lista-hosts .host-card");

    function aplicarFiltro(service){
      hostCards.forEach(card => {
        const services = (card.dataset.service || "").split(",").map(s => s.trim());
        const mostrar  = service === "all" || services.includes(service);
        card.style.display = mostrar ? "" : "none";
      });
    }

    filterButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        filterButtons.forEach(b => b.classList.remove("ativo"));
        btn.classList.add("ativo");
        const service = btn.dataset.service || "all";
        aplicarFiltro(service);
      });
    });

    // ===== CARD EXPANS√çVEL "NOVA HOSPEDAGEM" =====
    const cardNovaHosp   = document.getElementById("cardNovaHospedagem");
    const btnToggleForm  = document.getElementById("btnToggleForm");
    const btnCancelarForm= document.getElementById("btnCancelarForm");
    const formNova       = document.getElementById("formNovaHospedagem");
    const btnSalvar      = document.getElementById("btnSalvarAnuncio");

    function abrirForm(){
      if(!cardNovaHosp) return;
      cardNovaHosp.style.display = "flex";
      btnToggleForm.innerHTML = '<i class="fa-solid fa-xmark"></i><span>Fechar formul√°rio</span>';
      cardNovaHosp.scrollIntoView({behavior:"smooth", block:"start"});
    }

    function fecharForm(){
      if(!cardNovaHosp) return;
      cardNovaHosp.style.display = "none";
      btnToggleForm.innerHTML = '<i class="fa-solid fa-plus"></i><span>Criar nova hospedagem</span>';
      showAlertOk(""); showAlertErr("");
      const ok  = document.getElementById("alertOk");
      const err = document.getElementById("alertErr");
      if(ok) ok.style.display = "none";
      if(err) err.style.display = "none";
      if(formNova) formNova.reset();
    }

    if(btnToggleForm){
      btnToggleForm.addEventListener("click", ()=>{
        const isVisible = cardNovaHosp && cardNovaHosp.style.display === "flex";
        if(isVisible) fecharForm(); else abrirForm();
      });
    }

    if(btnCancelarForm){
      btnCancelarForm.addEventListener("click", (e)=>{
        e.preventDefault();
        fecharForm();
      });
    }

    if(formNova){
      formNova.addEventListener("submit", async (e)=>{
        e.preventDefault();

        if(!currentUserId){
          showAlertErr("Usu√°rio n√£o identificado. Refa√ßa o login.");
          return;
        }

        if(!btnSalvar) return;
        btnSalvar.disabled = true;
        btnSalvar.textContent = "Salvando...";

        const titulo       = document.getElementById("titulo").value.trim();
        const cidade       = document.getElementById("cidade").value;
        const preco_noite  = document.getElementById("preco_noite").value;
        const preco_daycare= document.getElementById("preco_daycare").value;
        const capacidade   = document.getElementById("capacidade").value;
        const descricao    = document.getElementById("descricao").value.trim();
        const regras       = document.getElementById("regras").value.trim();

        const servicos = Array.from(document.querySelectorAll('input[name="servicos"]:checked')).map(el=>el.value);
        const portes   = Array.from(document.querySelectorAll('input[name="portes"]:checked')).map(el=>el.value);

        if(!titulo){
          showAlertErr("Informe um nome para o an√∫ncio.");
          btnSalvar.disabled = false;
          btnSalvar.textContent = "Salvar an√∫ncio";
          return;
        }
        if(servicos.length === 0){
          showAlertErr("Selecione pelo menos um servi√ßo oferecido.");
          btnSalvar.disabled = false;
          btnSalvar.textContent = "Salvar an√∫ncio";
          return;
        }

        const payload = {
          host_id: currentUserId,
          titulo,
          cidade: cidade || null,
          servicos,
          preco_noite: preco_noite ? Number(preco_noite) : null,
          preco_daycare: preco_daycare ? Number(preco_daycare) : null,
          capacidade: capacidade ? Number(capacidade) : null,
          portes,
          descricao,
          regras
        };

        try{
          console.log("Payload novo an√∫ncio (simula√ß√£o):", payload);

          // Quando criar a tabela no Supabase, basta descomentar e ajustar:
          /*
          const { error } = await sb
            .from("host_listings")
            .insert({
              host_id: currentUserId,
              titulo,
              cidade,
              servicos,
              preco_noite: payload.preco_noite,
              preco_daycare: payload.preco_daycare,
              capacidade: payload.capacidade,
              portes,
              descricao,
              regras
            });

          if(error){
            console.error("Erro insert host_listings:", error);
            showAlertErr("Erro ao salvar an√∫ncio: " + (error.message || ""));
            btnSalvar.disabled = false;
            btnSalvar.textContent = "Salvar an√∫ncio";
            return;
          }
          */

          showAlertOk("An√∫ncio criado (simula√ß√£o). Depois √© s√≥ ligar este formul√°rio √† tabela do Supabase.");
        }catch(err){
          console.error(err);
          showAlertErr("Erro inesperado ao salvar o an√∫ncio.");
        }finally{
          btnSalvar.disabled = false;
          btnSalvar.textContent = "Salvar an√∫ncio";
        }
      });
    }

    // Boot
    (async function init(){
      const user = await requireAuth();
      if(!user) return;

      await loadHostName(user);

      document.getElementById("linkSair")
        .addEventListener("click", handleLogout);

      document.getElementById("linkExcluir")
        .addEventListener("click", (event)=>{
          event.preventDefault();
          if(!currentUserEmail){
            toastHost("Erro: usu√°rio n√£o identificado. Fa√ßa login novamente.");
            return;
          }
          openDeleteModal();
        });

      aplicarFiltro("all");
    })();
  </script>
</body>
</html>
